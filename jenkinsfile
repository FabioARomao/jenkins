pipeline {
    agent any  // Pode rodar em qualquer n√≥ dispon√≠vel

    environment {
        PYTHON_ENV = "/usr/bin/python3"  // Caminho do Python no servidor
    }

    stages {
        stage('Checkout C√≥digo') {
            steps {
                git 'https://github.com/FabioARomao/jenkins.git'  // Clona o reposit√≥rio com os scripts
            }
        }

        stage('Instalar Depend√™ncias') {
            steps {
                sh '${PYTHON_ENV} -m pip install --upgrade pip'
                sh '${PYTHON_ENV} -m pip install -r requirements.txt'  // Instala Pandas, NumPy, etc.
            }
        }

        stage('Baixar Dados') {
            steps {
                sh 'python scripts/download_data.py'  // Exemplo: pega do S3 ou banco
            }
        }

        stage('Processar Dados') {
            steps {
                sh 'python scripts/preprocess.py'  // Executa a limpeza e transforma√ß√£o dos dados
            }
        }

        stage('Salvar Dados Processados') {
            steps {
                sh 'python scripts/save_data.py'  // Pode salvar em S3, PostgreSQL, etc.
            }
        }

        stage('Finalizado') {
            steps {
                echo "Pipeline conclu√≠da com sucesso! üöÄ"
            }
        }
    }
}
